skyforge:
  hostname: skyforge.local.forwardnetworks.com
  domain: forwardnetworks.com
  publicUrl: https://skyforge.local.forwardnetworks.com

  encoreCfg:
    # Ensure the worker service gets the same Helm-driven typed config as the API.
    # Without this, the worker falls back to whatever was baked into its image.
    workerCreate: true

  # Provide ENCORE_RUNTIME_CONFIG from the chart's `files/infra.config.json`.
  # This keeps Skyforge server images portable (no baked-in infra config).
  encoreRuntimeConfig:
    create: true
    workerCreate: true

  # Run a dedicated worker Deployment to process NSQ tasks and internal reconciles.
  # Keep this separate from the API Deployment to avoid "queued" runs caused by
  # non-worker pods grabbing subscriptions.
  workerReplicaCount: 1

  netbox:
    enabled: true
  netboxUrl: https://skyforge.local.forwardnetworks.com/netbox
  netboxSsoUrl: https://skyforge.local.forwardnetworks.com/netbox

  nautobot:
    enabled: true
  nautobotUrl: https://skyforge.local.forwardnetworks.com/nautobot
  nautobotSsoUrl: https://skyforge.local.forwardnetworks.com/nautobot

  elastic:
    enabled: true
    kibanaSubpath: /kibana

  # Swagger image pulls can be rate-limited on Docker Hub; keep this disabled
  # in production unless you pin a mirrored image.
  swaggerUI:
    enabled: false

  # Keep registry integration enabled for GHCR-backed workflows.
  registry:
    url: https://ghcr.io

  # Enable Gitea provisioning for blueprint-backed workflows and E2E tests.
  # API URL is in-cluster; UI URL is the SSO-proxied external path.
  gitea:
    apiUrl: http://gitea:3000/api/v1
    url: https://skyforge.local.forwardnetworks.com/gitea

  # Pin netlab-c9s generator image so `netlab initial` has the artifacts it needs.
  netlabC9s:
    generatorImage: "ghcr.io/forwardnetworks/skyforge-netlab-generator:20260206-968a5af"

  # Skyforge deploys Containerlab topologies to Kubernetes via Clabernetes.
  # This must be enabled for E2E deploy tests and user deployments to reconcile.
  clabernetes:
    enabled: true
    managerImage: "ghcr.io/forwardnetworks/skyforge-clabernetes-manager:20260204-ceos-fastcli-3113843"
    launcherImage: "ghcr.io/forwardnetworks/skyforge-clabernetes-launcher:20260205-native-vxlan-localip-txoff-readyonly"

  # Current LDAP endpoint in this environment requires skipping TLS verification
  # for MinIO LDAP hook success. Set to false once LDAP cert trust is fixed.
  ldap:
    skipTlsVerify: true

images:
  # Pin images in prod so upgrades are repeatable (avoid implicit "latest").
  skyforgeServer: "ghcr.io/forwardnetworks/skyforge-server:20260206-968a5af"
  skyforgeServerWorker: "ghcr.io/forwardnetworks/skyforge-server:20260206-968a5af"

kubernetes:
  # Ensure private GHCR images can be pulled in the release namespace.
  imagePullSecrets: ["ghcr-pull"]
